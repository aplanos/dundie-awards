# Activity Module

The Dundie Awards Activity Module is a Java-based Spring Boot service responsible for managing and tracking activity-related events within the Dundie Awards ecosystem. This module provides an API for handling activities, processes messages via RabbitMQ, and interacts with a database using JPA.

## Requirements

In order for this module to run, it is essential to first start the organization-module, which boots up the database, Redis, and RabbitMQ servers. In the future, a separate module will be developed to manage the infrastructure setup, eliminating the dependency on the organization-module for this purpose.

## Features

- API for managing activities
- Messaging integration with RabbitMQ
- Security configuration for token validation using JWT
- Swagger configured for API documentation

## API Documentation

Swagger has been configured to document the API endpoints. You can access the API documentation at:

```
http://localhost:8081/swagger-ui.html
```

## Messaging

This module supports event-driven communication using RabbitMQ. It publishes and listens to the following events:

### Supported Events

The `ActivityEventPublisher` interface is responsible for publishing events related to activity management:

```java
public interface ActivityEventPublisher {
    void publishActivityCreateEvent(ActivityCreateEvent event);
    void publishActivityRollBackEvent(ActivityRollBackEvent event);
}
```

- **ActivityCreateEvent**: Triggered when a new activity is created.
- **ActivityRollBackEvent**: Triggered when an activity needs to be rolled back due to an issue.

## Security

Security is configured to validate JWT tokens generated by an external **auth-module** microservice. This ensures secure access to API endpoints.

## Project Structure

The project follows a modular structure with the following main packages:

```
com.ninjaone.dundieawards.activity
│── application
│   ├── api
│   ├── dto
│   ├── messaging
│   ├── service
│── domain
│   ├── entity
│   ├── enum
│── infrastructure
│   ├── config
│   ├── messaging
│   ├── repository
│   ├── rest
│   ├── security
│── ActivityModuleApplication
│── resources
│   ├── application.properties
│   ├── application-dev.properties
│   ├── application-prd.properties
│── test
├── build.gradle
├── def.Dockerfile
├── prd.Dockerfile
```

## Prerequisites

To run this project, ensure you have the following installed:

- **Java 17**: The project requires Java 17 to run. You can download it from the [official site](https://adoptopenjdk.net/).
- **Gradle**: Gradle is used as the build tool for this project. You can download it from the [official site](https://gradle.org/install/).
- **Docker**: Docker is required for containerization. You can download it from the [official site](https://www.docker.com/products/docker-desktop).

Ensure that these tools are properly installed and configured before running the project.

## Build & Run

To build and run the project, use the following commands:

```sh
./gradlew build
./gradlew bootRun
```

## Deployment

Docker support is available with predefined Dockerfiles:

- `def.Dockerfile` - Default configuration
- `prd.Dockerfile` - Production configuration

